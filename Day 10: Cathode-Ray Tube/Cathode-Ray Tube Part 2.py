import sys

input_file = sys.argv[1]

X = 1
cycle_no = 0

crt = [['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]


def add_signal(V):
    global X
    X += V


def draw_pixel():
    sprite = [X - 1, X, X + 1]
    crt_row = cycle_no // 40
    crt_col = cycle_no % 40

    for sprite_pixel in sprite:
        if crt_col == sprite_pixel:
            crt[crt_row][crt_col] = '#'
            break


if __name__ == "__main__":
    with open(input_file, 'r') as fd:
        lines = fd.readlines()
        instructions = list(map(lambda line: line.rstrip('\n').split(' '), lines))

        for instruction in instructions:
            if instruction[0] == 'addx':
                for increment in range(2):
                    draw_pixel()
                    cycle_no += 1
                add_signal(int(instruction[1]))
            elif instruction[0] == 'noop':
                draw_pixel()
                cycle_no += 1

    for x in crt:
        str = ''.join(x)
        print(str)
